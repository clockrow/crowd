(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{581:function(t,e,n){"use strict";n.r(e);var r=n(21),c=(n(81),n(46),n(30),n(252),n(42),n(24),n(3)),o=n(132),l=n.n(o),m=Object(c.d)({props:{gameInfo:{type:Object,required:!0},rankingItemsInit:{type:Array,required:!0}},setup:function(t){var e=Object(c.m)(""),n=t.rankingItemsInit.map((function(t,e){return{rank:e+1,name:t.name,time:t.time}})),o=Object(c.m)(n),m=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(t.gameInfo.rankingUrl||"").then((function(t){var e=t.data.slice().sort((function(a,b){return a.rank<b.rank?-1:a.rank>b.rank?1:0}));o.value=e.map((function(t,e){return{rank:e+1,name:t.name,time:t.time}}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===o.value.length&&m();return{rankingHeaders:[{text:"順位",align:"start",sortable:!1,value:"rank"},{text:"名前",align:"start",sortable:!1,value:"name"},{text:"時刻",align:"start",sortable:!1,value:"time"},{text:"共有する",align:"right",sortable:!1,value:"action"}],rankingItems:o,searchStr:e,tweetRank:function(e){var n="https://twitter.com/intent/tweet"+"?text=【".concat(t.gameInfo.title," ランキング】\n\n順位：").concat(e.rank,"位\n名前：").concat(e.name,"\nクリア時刻：").concat(e.time,"\n\n")+"&via=C_lock_row"+"&url=".concat(t.gameInfo.url)+"&hashtags=".concat(t.gameInfo.hashtag),r=encodeURI(n);window.open(r,"_blank")||(window.location.href=r)}}}}),d=n(75),v=n(151),f=n.n(v),k=n(244),h=n(188),w=n(655),x=n(129),I=n(241),_=n(650),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card-title",{staticClass:"d-flex pb-0"},[n("v-icon",{staticClass:"mr-2",attrs:{color:"black"}},[t._v("mdi-poll")]),t._v(" "),n("div",[t._v("ランキング")])],1),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"検索","single-line":"","hide-details":""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}}),t._v(" "),n("v-expand-transition",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.rankingHeaders,items:t.rankingItems,"items-per-page":10,"footer-props":{"items-per-page-text":""},search:t.searchStr},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{fab:"",small:"",depressed:"",color:"white"},on:{click:function(e){return t.tweetRank(r)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-share-variant")])],1)]}}])})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:k.a,VCardText:h.c,VCardTitle:h.d,VDataTable:w.a,VExpandTransition:x.a,VIcon:I.a,VTextField:_.a})}}]);