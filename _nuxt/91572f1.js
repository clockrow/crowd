(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{583:function(t,e,n){"use strict";n.r(e);var r=n(245),o=n(189),c=n(657),l=n(130),m=n(243),f=n(652),d=n(22),k=(n(81),n(46),n(30),n(253),n(42),n(23),n(3)),v=n(132),h=n.n(v),w=Object(k.d)({props:{gameInfo:{type:Object,required:!0},rankingItemsInit:{type:Array,required:!0}},setup:function(t){var e=Object(k.m)(""),n=t.rankingItemsInit.map((function(t,e){return{rank:e+1,name:t.name,time:t.time}})),r=Object(k.m)(n),o=function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t.gameInfo.rankingUrl||"").then((function(t){var e=t.data.slice().sort((function(a,b){return a.rank<b.rank?-1:a.rank>b.rank?1:0}));r.value=e.map((function(t,e){return{rank:e+1,name:t.name,time:t.time}}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===r.value.length&&o();return{rankingHeaders:[{text:"順位",align:"start",sortable:!1,value:"rank"},{text:"名前",align:"start",sortable:!1,value:"name"},{text:"時刻",align:"start",sortable:!1,value:"time"},{text:"共有する",align:"right",sortable:!1,value:"action"}],rankingItems:r,searchStr:e,tweetRank:function(e){var n="https://twitter.com/intent/tweet"+"?text=【".concat(t.gameInfo.title," ランキング】\n\n順位：").concat(e.rank,"位\n名前：").concat(e.name,"\nクリア時刻：").concat(e.time,"\n\n")+"&via=C_lock_row"+"&url=".concat(t.gameInfo.url)+"&hashtags=".concat(t.gameInfo.hashtag),r=encodeURI(n);window.open(r,"_blank")||(window.location.href=r)}}}}),_=w,x=n(76),component=Object(x.a)(_,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(o.d,{staticClass:"d-flex pb-0"},[e(m.a,{staticClass:"mr-2",attrs:{color:"black"}},[t._v("mdi-poll")]),t._v(" "),e("div",[t._v("ランキング")])],1),t._v(" "),e(o.c,[e(f.a,{attrs:{"append-icon":"mdi-magnify",label:"検索","single-line":"","hide-details":""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}}),t._v(" "),e(l.a,[e(c.a,{staticClass:"elevation-1",attrs:{headers:t.rankingHeaders,items:t.rankingItems,"items-per-page":10,"footer-props":{"items-per-page-text":""},search:t.searchStr},scopedSlots:t._u([{key:"item.action",fn:function(n){var o=n.item;return[e(r.a,{attrs:{fab:"",small:"",depressed:"",color:"white"},on:{click:function(e){return t.tweetRank(o)}}},[e(m.a,{attrs:{small:""}},[t._v("mdi-share-variant")])],1)]}}])})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);